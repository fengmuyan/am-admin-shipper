(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58395590"],{"53b2":function(e,t,a){"use strict";a("163d");var r={data:function(){return{isMounted:!1,elementHeight:0}},computed:{minHeight:function(){if(this.isMounted)return void 0!==this.formShow?(this.$refs.formPublic&&(this.elementHeight=this.$refs.formPublic.offsetHeight),window.innerHeight-Number(this.formShow)*(this.elementHeight+10)-134+"px"):window.innerHeight-134+"px"}},mounted:function(){this.isMounted=!0},methods:{resize:function(){this.elementHeight="60px"}}};t["a"]=r},"6f14":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-collapse-transition",[e.formShow?a("div",{directives:[{name:"resize",rawName:"v-resize",value:e.resize,expression:"resize"}],ref:"formPublic",staticClass:"form-p"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryForm,inline:!0,"label-width":"70px"}},[a("div",[a("el-form-item",{attrs:{label:"订单号",prop:"orderno"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入订单号",clearable:"",size:"small"},model:{value:e.queryForm.orderno,callback:function(t){e.$set(e.queryForm,"orderno",t)},expression:"queryForm.orderno"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"支付类型",prop:"paytype"}},[a("el-select",{staticStyle:{width:"130px"},attrs:{placeholder:"请选择",clearable:"",size:"small"},model:{value:e.queryForm.paytype,callback:function(t){e.$set(e.queryForm,"paytype",t)},expression:"queryForm.paytype"}},[a("el-option",{attrs:{label:"货币支付",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"信用额度支付",value:"1"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"订单来源",prop:"ordersource"}},[a("el-select",{staticStyle:{width:"130px"},attrs:{placeholder:"请选择",clearable:"",size:"small"},model:{value:e.queryForm.ordersource,callback:function(t){e.$set(e.queryForm,"ordersource",t)},expression:"queryForm.ordersource"}},[a("el-option",{attrs:{label:"PC",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"Android",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"ios",value:"2"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"下单时间"}},[a("el-date-picker",{staticStyle:{width:"360px"},attrs:{size:"small",type:"datetimerange",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.createDateRange,callback:function(t){e.createDateRange=t},expression:"createDateRange"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"采购商",prop:"username"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入采购商名称",clearable:"",size:"small"},model:{value:e.queryForm.username,callback:function(t){e.$set(e.queryForm,"username",t)},expression:"queryForm.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"订单状态",prop:"orderstate"}},[a("el-select",{staticStyle:{width:"130px"},attrs:{placeholder:"请选择",clearable:"",size:"small"},model:{value:e.queryForm.orderstate,callback:function(t){e.$set(e.queryForm,"orderstate",t)},expression:"queryForm.orderstate"}},[a("el-option",{attrs:{label:"正常",value:"Y"}}),e._v(" "),a("el-option",{attrs:{label:"删除",value:"N"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"支付状态",prop:"paystate"}},[a("el-select",{staticStyle:{width:"130px"},attrs:{placeholder:"请选择",clearable:"",size:"small"},model:{value:e.queryForm.paystate,callback:function(t){e.$set(e.queryForm,"paystate",t)},expression:"queryForm.paystate"}},[a("el-option",{attrs:{label:"支付未完成",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"支付完成",value:"1"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"支付时间"}},[a("el-date-picker",{staticStyle:{width:"360px"},attrs:{size:"small",type:"datetimerange",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.payDateRange,callback:function(t){e.payDateRange=t},expression:"payDateRange"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"padding-left":"11px"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1)])],1):e._e()]),e._v(" "),a("div",{staticClass:"table-p",style:{"min-height":e.minHeight}},[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"全部订单",name:"-1"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"待称重",name:"10"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"待付款",name:"0"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"待发货",name:"1"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"已发货",name:"2"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"已完成",name:"4"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"已关闭",name:"5"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"已失效",name:"6"}})],1),e._v(" "),a("el-row",{staticClass:"export-btn icon-wrap",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("div",{staticClass:"icon-box icon-box-f",on:{click:function(t){e.formShow=!e.formShow}}},[a("i",{directives:[{name:"show",rawName:"v-show",value:!e.formShow,expression:"!formShow"}],staticClass:"el-icon-zoom-in"}),e._v(" "),e.formShow?a("i",{staticClass:"el-icon-zoom-out"}):e._e()])]),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("div",{staticClass:"icon-box icon-box-t",on:{click:e.handleQuery}},[a("i",{staticClass:"el-icon-refresh"})])]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出数据")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.orderList}},[a("el-table-column",{attrs:{label:"订单号",prop:"orderno",width:"150","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",sortable:"",prop:"createtime",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"订单金额",sortable:"",prop:"orderamount",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{label:"采购商",prop:"username","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{label:"数量",prop:"cmdtcount",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{label:"应收款",prop:"needprice",width:"70"}}),e._v(" "),a("el-table-column",{attrs:{label:"实收款",prop:"realprice",width:"70"}}),e._v(" "),a("el-table-column",{attrs:{label:"发货类型",prop:"delivertype",width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("inDelivertype")(t.row.delivertype)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"发票类型",prop:"invocetype",width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("initInvocetype")(t.row.invocetype)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"交易状态",prop:"tradestate",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("initTradestate")(t.row.tradestate)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleDetail(t.row)}}},[e._v("详情")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryForm.pageNum,limit:e.queryForm.pageSize},on:{"update:page":function(t){return e.$set(e.queryForm,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryForm,"pageSize",t)},pagination:e.getList}})],1)],1)},o=[],l=(a("63ff"),a("57f0")),n=a("f8b7"),i=a("53b2"),s={mixins:[i["a"]],data:function(){return{loading:!1,exportLoading:!1,formShow:!0,activeName:"-1",orderList:[],total:0,payDateRange:[],createDateRange:[],queryForm:{pageNum:1,pageSize:10,tradestate:void 0,orderno:void 0,username:void 0,paytype:void 0,ordersource:void 0,paystate:void 0,orderstate:void 0}}},filters:{initTradestate:function(e){var t=["待付款","待发货","已发货","物流派件中","已完成","已关闭","已失效","","","","待称重","已称重，待付款"];return t[e]},initPaystate:function(e){var t=["支付未完成","支付完成"];return t[e]},initOrderstate:function(e){return"Y"===e?"正常":"N"===e?"删除":void 0},inDelivertype:function(e){var t=["自提","代发"];return t[e]},initInvocetype:function(e){var t=["不开发票","开发票"];return t[e]}},created:function(){this.getList()},methods:{getList:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t,a,r,o,l,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=!0,t=this._initParams,a=this.queryForm,e.next=5,Object(n["b"])(t(a));case 5:r=e.sent,o=r.code,l=r.data.pageResult,i=l.content,s=l.totalSize,this.loading=!1,200===o&&(this.orderList=i,this.total=s),e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](0),this.loading=!1,console.log(e.t0);case 18:case"end":return e.stop()}}),e,this,[[0,14]])})));function t(){return e.apply(this,arguments)}return t}(),handleQuery:function(){this.queryForm.pageNum=1,this.getList()},resetQuery:function(){this.createDateRange=[],this.payDateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleDetail:function(e){this.$router.push({path:"/query-statistics/agent-pro-qs/".concat(e.orderno)})},handleClick:function(){this.queryForm.pageNum=1,this.getList()},handleExport:function(){var e=this,t=this._initParams,a=this.queryForm;this.$confirm("是否确认导出所有订单数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"el-message-box-wran"}).then(Object(l["a"])(regeneratorRuntime.mark((function r(){var o,l,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.exportLoading=!0,r.next=3,Object(n["c"])(t(a));case 3:o=r.sent,l=o.msg,i=o.code,200===i?(e.download(l),e.msgSuccess("导出成功"),e.exportLoading=!1):e.exportLoading=!1;case 7:case"end":return r.stop()}}),r)})))).catch((function(){}))},_initParams:function(e){var t=this.activeName,a=this.payDateRange,r=this.createDateRange;return Object.assign(e,{tradestate:"-1"===t?null:t,paytimestart:a.length>0?a[0]:null,paytimeend:a.length>0?a[1]:null,createtimestart:r.length>0?r[0]:null,createtimeend:r.length>0?r[1]:null}),e}}},c=s,u=a("5511"),p=Object(u["a"])(c,r,o,!1,null,null,null);t["default"]=p.exports},f8b7:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return n}));var r=a("b775");function o(e){return Object(r["a"])({url:"/patronus/order/list",method:"post",data:e})}function l(e){return Object(r["a"])({url:"/patronus/order/detail",method:"post",data:e})}function n(e){return Object(r["a"])({url:"/patronus/order/export",method:"post",data:e})}}}]);