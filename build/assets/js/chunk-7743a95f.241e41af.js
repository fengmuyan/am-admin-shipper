(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7743a95f"],{"53b2":function(e,t,a){"use strict";a("163d");var r={data:function(){return{isMounted:!1,elementHeight:0}},computed:{minHeight:function(){if(this.isMounted)return void 0!==this.formShow?(this.$refs.formPublic&&(this.elementHeight=this.$refs.formPublic.offsetHeight),window.innerHeight-Number(this.formShow)*(this.elementHeight+10)-134+"px"):window.innerHeight-134+"px"}},mounted:function(){this.isMounted=!0},methods:{resize:function(){this.elementHeight="60px"}}};t["a"]=r},7351:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-collapse-transition",[e.formShow?a("div",{directives:[{name:"resize",rawName:"v-resize",value:e.resize,expression:"resize"}],ref:"formPublic",staticClass:"form-p"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryForm,inline:!0}},[a("el-form-item",{attrs:{label:"申请人",prop:"userName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入申请人名称",clearable:"",size:"small"},model:{value:e.queryForm.userName,callback:function(t){e.$set(e.queryForm,"userName",t)},expression:"queryForm.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"审核状态",prop:"state"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"请选择",clearable:"",size:"small"},model:{value:e.queryForm.state,callback:function(t){e.$set(e.queryForm,"state",t)},expression:"queryForm.state"}},[a("el-option",{attrs:{label:"待审核",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"未通过",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"通过",value:"2"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"申请时间"}},[a("el-date-picker",{staticStyle:{width:"260px"},attrs:{size:"small",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1)],1):e._e()]),e._v(" "),a("div",{staticClass:"table-p",style:{"min-height":e.minHeight}},[a("el-row",{staticClass:"mb10 f-r icon-wrap",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("div",{staticClass:"icon-box icon-box-f",on:{click:function(t){e.formShow=!e.formShow}}},[a("i",{directives:[{name:"show",rawName:"v-show",value:!e.formShow,expression:"!formShow"}],staticClass:"el-icon-zoom-in"}),e._v(" "),e.formShow?a("i",{staticClass:"el-icon-zoom-out"}):e._e()])]),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("div",{staticClass:"icon-box icon-box-t",on:{click:e.handleQuery}},[a("i",{staticClass:"el-icon-refresh"})])])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.userList}},[a("el-table-column",{attrs:{label:"申请人名称",prop:"username"}}),e._v(" "),a("el-table-column",{attrs:{label:"申请人手机号",prop:"phone"}}),e._v(" "),a("el-table-column",{attrs:{label:"备注",prop:"remark"}}),e._v(" "),a("el-table-column",{attrs:{label:"审核状态",prop:"voState"}}),e._v(" "),a("el-table-column",{attrs:{label:"拒绝原应",prop:"reason"}}),e._v(" "),a("el-table-column",{attrs:{label:"申请时间",prop:"createtime",width:"150px"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"220px"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.state?a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-circle-close"},on:{click:function(a){return e.handleRefuse(t.row)}}},[e._v("拒绝")]):e._e(),e._v(" "),0===t.row.state?a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-circle-check"},on:{click:function(a){return e.handleAgree(t.row)}}},[e._v("同意")]):e._e()]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryForm.pageNum,limit:e.queryForm.pageSize},on:{"update:page":function(t){return e.$set(e.queryForm,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryForm,"pageSize",t)},pagination:e.getList}})],1)],1)},n=[],i=(a("63ff"),a("57f0")),o=a("b775");function s(e){return Object(o["a"])({url:"/thearchy/merchant/list",method:"post",data:e})}function l(e){return Object(o["a"])({url:"/thearchy/merchant/save",method:"post",data:e})}var c=a("53b2"),u={mixins:[c["a"]],data:function(){return{loading:!1,formShow:!0,userList:[],total:0,dateRange:[],queryForm:{pageNum:1,pageSize:10,userName:"",state:void 0}}},created:function(){this.getList()},methods:{getList:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,r,n,i,o,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=!0,t=this._initParams,a=this.queryForm,e.next=5,s(t(a));case 5:r=e.sent,n=r.code,i=r.data.pageResult,o=i.content,l=i.totalSize,this.loading=!1,200===n&&(this.userList=o,this.total=l),e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](0),this.loading=!1,console.log(e.t0);case 18:case"end":return e.stop()}}),e,this,[[0,14]])})));function t(){return e.apply(this,arguments)}return t}(),handleQuery:function(){this.queryForm.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleAgree:function(e){var t=this;this.$confirm("确定要通过审核吗？","系统提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"el-message-box-wran"}).then(Object(i["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.loading=!0,a.next=4,l({uid:e.uid,state:2});case 4:r=a.sent,n=r.code,t.loading=!1,200===n&&(t.msgSuccess("操作成功"),t.getList()),a.next=14;break;case 10:a.prev=10,a.t0=a["catch"](0),t.loading=!1,console.log(a.t0);case 14:case"end":return a.stop()}}),a,null,[[0,10]])}))))},handleRefuse:function(e){var t=this;this.$prompt("请输入拒绝原因","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputType:"textarea",inputPattern:/\S/,inputErrorMessage:"拒绝原因不能为空"}).then(function(){var a=Object(i["a"])(regeneratorRuntime.mark((function a(r){var n,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=r.value,a.prev=1,t.loading=!0,a.next=5,l({uid:e.uid,state:1,reason:n});case 5:i=a.sent,o=i.code,t.loading=!1,200===o&&(t.msgSuccess("操作成功"),t.getList()),a.next=15;break;case 11:a.prev=11,a.t0=a["catch"](1),t.loading=!1,console.log(a.t0);case 15:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e){return a.apply(this,arguments)}}())},_initParams:function(e){var t=this.dateRange||[];return Object.assign(e,{beginTime:t.length>0?t[0]:null,endTime:t.length>0?t[1]:null}),e}}},m=u,p=a("5511"),h=Object(p["a"])(m,r,n,!1,null,null,null);t["default"]=h.exports}}]);